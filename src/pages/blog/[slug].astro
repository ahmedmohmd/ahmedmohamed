---
import BlockQuote from "@components/atoms/BlockQuote.astro";
import H1 from "@components/atoms/H1.astro";
import H2 from "@components/atoms/H2.astro";
import Hr from "@components/atoms/Hr.astro";
import Li from "@components/atoms/Li.astro";
import P from "@components/atoms/P.astro";
import Pre from "@components/atoms/Pre.astro";
import BlogLayout from "@layouts/BlogLayout.astro";

export const getStaticPaths = async () => {
  const articles = await Astro.glob("../../data/articles/**/*.mdx");

  return articles.map((article) => {
    return {
      params: { slug: article.frontmatter.slug },
      props: { article },
    };
  });
};

const {
  Content,
  frontmatter: { title, cover, date },
} = Astro.props.article;
---

<BlogLayout title={title} cover={cover} date={date}
  ><Content
    components={{
      h2: H2,
      li: Li,
      p: P,
      pre: Pre,
      hr: Hr,
      blockquote: BlockQuote,
      h1: H1,
    }}
  />
</BlogLayout>

<style>
  .article-main-title {
    -webkit-text-stroke: 1px white; /* width and color */
  }
</style>
